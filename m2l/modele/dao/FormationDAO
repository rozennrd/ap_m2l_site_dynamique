<?php

class FormationDAO {

    public static function getLesFormationsOuvertes() {
        $formaOuvertes = new Formations();

        $query = dBConnex::getInstance()->prepare("select * from formations;");
        $query->execute();
        $result = $query->fetchAll(PDO::FETCH_ASSOC);

        foreach($result as $formation)
        {
            $forma = new Formation();
            $forma->hydrate($formation);
            if ($forma->estOuverte()) {
                $formaOuvertes->ajoutFormation($forma);
            } 
        }
        return $formaOuvertes;
    }

}